<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Vault of Us MP3 Recorder</title>
    <meta name="description" content="An mp3 recorder for The Vault of Us Website" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./styles.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;400&family=Roboto:wght@500&display=swap" rel="stylesheet" />

    <script src="https://kit.fontawesome.com/0955c01d8d.js" crossorigin="anonymous"></script>
</head>

<body>
    <!--[if lt IE 7]>
      <p class="browsehappy">
        You are using an <strong>outdated</strong> browser. Please
        <a href="#">upgrade your browser</a> to improve your experience.
      </p>
    <![endif]-->

    <div class="recorder">
        <div id="stopwatch" class="row recorder__stopwatch"></div>
        <div class="row recorder__controls">
            <div class="recorder__controls--record">
                <p class="recorder__controls--text text__record">RECORD</p>
                <button class="recorder__controls--record--btn btn" id="recordButton">
            <svg
              version="1.1"
              id="micIcon"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 58 58"
              style="enable-background: new 0 0 58 58"
              xml:space="preserve"
              class="svg-mic"
            >
              <g>
                <path
                  d="M44,28c-0.552,0-1,0.447-1,1v6c0,7.72-6.28,14-14,14s-14-6.28-14-14v-6c0-0.553-0.448-1-1-1s-1,0.447-1,1v6
                            c0,8.485,6.644,15.429,15,15.949V56h-5c-0.552,0-1,0.447-1,1s0.448,1,1,1h12c0.552,0,1-0.447,1-1s-0.448-1-1-1h-5v-5.051
                            c8.356-0.52,15-7.465,15-15.949v-6C45,28.447,44.552,28,44,28z"
                />
                <path
                  d="M29,46c6.065,0,11-4.935,11-11V11c0-6.065-4.935-11-11-11S18,4.935,18,11v24C18,41.065,22.935,46,29,46z M20,11
                            c0-4.963,4.038-9,9-9s9,4.037,9,9v24c0,4.963-4.038,9-9,9s-9-4.037-9-9V11z"
                />
              </g>
            </svg>
          </button>
            </div>
            <div class="recorder__controls--stop">
                <p class="recorder__controls--text text__stop">STOP</p>
                <button class="recorder__controls--stop--btn btn" id="stopButton">
            <span class="fa-stack square">
              <i class="far fa-square fa-stack-2x"></i>
              <i class="fas fa-square fa-stack-1x"></i>
            </span>
          </button>
            </div>

            <div class="recorder__controls--save">
                <p class="recorder__controls--text text__save">IM DONE</p>
                <button class="recorder__controls--save--btn btn" id="saveButton">
                  <i class="fas fa-check"></i>
          </button>
            </div>
            <div class="recorder__controls--redo">
                <p class="recorder__controls--text text__redo">START OVER</p>
                <button class="recorder__controls--redo--btn btn" id="deleteButton">
            <i class="fas fa-redo"></i>
          </button>
            </div>
        </div>
        <div class="row recorder__player" id="recordingsList"></div>
        <div class="row recorder__save" id="saveAudio">

        </div>
    </div>

    <div class="the__end">
        <h4>Click to Copy your audio link</h3>
            <h4>Then paste below</h4>

            <p id="audioURL" class="row"></p>
            <button id="copyButton" class="row" onclick="copyURL()">Copy Audio Link</button>
            <img src="red-arrow-down.png" width="50px" alt="red arrow pointing down" class="download__arrow" />
    </div>

    <script src="js/WebAudioRecorder.min.js"></script>
    <script src="js/app.js"></script>
    <script>
        function copyURL() {
            /*get the text field*/
            const copyText = document.getElementById('audioURL')
                // copyText.select()
                // copyText.setSlectionRange(0, 99999)

            navigator.clipboard.writeText(copyText.textContent)

            document.querySelector('.the__end button').textContent = 'Copied!'
        }
    </script>
</body>

</html>